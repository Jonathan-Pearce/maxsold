# Monthly Scraping Pipeline - Visual Guide

## ğŸ“… Execution Schedule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1st of Month                                                â”‚
â”‚  2:00 AM UTC                                                 â”‚
â”‚                                                               â”‚
â”‚  GitHub Actions automatically triggers workflow              â”‚
â”‚                                                               â”‚
â”‚  Duration: 2-4 hours                                         â”‚
â”‚  Scrapes: Last 30 days of data                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Data Flow Diagram

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  INPUT: MaxSold API                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PHASE 1: AUCTION SEARCH (01_extract_auction_search.py)  â”‚
â”‚                                                            â”‚
â”‚ Parameters: days=30, radius=201km, country=canada         â”‚
â”‚ Output: auction_search_{timestamp}.parquet                â”‚
â”‚                                                            â”‚
â”‚ Data: Auction IDs, titles, locations, dates              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â–¼                 â–¼                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ PHASE 2: AUCTION   â”‚  â”‚ PHASE 2: ITEMS     â”‚   â”‚
â”‚ DETAILS            â”‚  â”‚ DETAILS            â”‚   â”‚
â”‚                    â”‚  â”‚                    â”‚   â”‚
â”‚ 02_extract_auction_â”‚  â”‚ 03_extract_items_  â”‚   â”‚
â”‚    details.py      â”‚  â”‚    details.py      â”‚   â”‚
â”‚                    â”‚  â”‚                    â”‚   â”‚
â”‚ Input: Auction IDs â”‚  â”‚ Input: Auction IDs â”‚   â”‚
â”‚ Output: auction_   â”‚  â”‚ Output: items_     â”‚   â”‚
â”‚   details.parquet  â”‚  â”‚   details.parquet  â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
          â”‚                       â”‚               â”‚
          â”‚                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”
          â”‚                       â–¼               â”‚   â”‚
          â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
          â”‚              â”‚ PHASE 3: BID       â”‚   â”‚   â”‚
          â”‚              â”‚ HISTORY            â”‚   â”‚   â”‚
          â”‚              â”‚                    â”‚   â”‚   â”‚
          â”‚              â”‚ 04_extract_bid_    â”‚   â”‚   â”‚
          â”‚              â”‚    history.py      â”‚   â”‚   â”‚
          â”‚              â”‚                    â”‚   â”‚   â”‚
          â”‚              â”‚ Input: Item IDs    â”‚   â”‚   â”‚
          â”‚              â”‚ Output: bid_       â”‚   â”‚   â”‚
          â”‚              â”‚   history.parquet  â”‚   â”‚   â”‚
          â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
          â”‚                        â”‚              â”‚   â”‚
          â”‚                        â”‚              â–¼   â–¼
          â”‚                        â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                        â”‚       â”‚ PHASE 3: ENRICHED  â”‚
          â”‚                        â”‚       â”‚ DETAILS            â”‚
          â”‚                        â”‚       â”‚                    â”‚
          â”‚                        â”‚       â”‚ 05_extract_item_   â”‚
          â”‚                        â”‚       â”‚    enriched.py     â”‚
          â”‚                        â”‚       â”‚                    â”‚
          â”‚                        â”‚       â”‚ Input: Item IDs    â”‚
          â”‚                        â”‚       â”‚ Output: item_      â”‚
          â”‚                        â”‚       â”‚   enriched.parquet â”‚
          â”‚                        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                        â”‚                 â”‚
          â–¼                        â–¼                 â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PHASE 4: KAGGLE UPLOAD (for each dataset)                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                             â•‘
â•‘  1. Download existing data from Kaggle                     â•‘
â•‘  2. Load new scraped data                                  â•‘
â•‘  3. Concatenate: existing + new                            â•‘
â•‘  4. Remove duplicates (by key columns)                     â•‘
â•‘  5. Save combined data                                     â•‘
â•‘  6. Upload to Kaggle                                       â•‘
â•‘                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          â”‚                        â”‚                 â”‚
          â–¼                        â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Kaggle:        â”‚  â”‚ Kaggle:        â”‚  â”‚ Kaggle:        â”‚
â”‚ raw-maxsold-   â”‚  â”‚ raw-maxsold-   â”‚  â”‚ raw-maxsold-   â”‚
â”‚ auction        â”‚  â”‚ item           â”‚  â”‚ bid            â”‚
â”‚                â”‚  â”‚                â”‚  â”‚                â”‚
â”‚ + new rows     â”‚  â”‚ + new rows     â”‚  â”‚ + new rows     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ Kaggle:        â”‚
                                    â”‚ raw-maxsold-   â”‚
                                    â”‚ item-enriched  â”‚
                                    â”‚                â”‚
                                    â”‚ + new rows     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ File Dependencies

```
scrapers/
â”œâ”€â”€ 01_extract_auction_search.py
â”‚   â””â”€â”€ Outputs: auction_search.parquet
â”‚       â”œâ”€â”€ Used by â”€â”€â”
â”‚       â”‚             â”œâ”€> 02_extract_auction_details.py
â”‚       â”‚             â””â”€> 03_extract_items_details.py
â”‚       â”‚                 â””â”€â”€ Outputs: items_details.parquet
â”‚       â”‚                     â”œâ”€â”€ Used by â”€â”€â”
â”‚       â”‚                     â”‚             â”œâ”€> 04_extract_bid_history.py
â”‚       â”‚                     â”‚             â””â”€> 05_extract_item_enriched_details.py
â”‚       â””â”€â”€ Not uploaded (temporary)
â”‚
â”œâ”€â”€ 02_extract_auction_details.py
â”‚   â””â”€â”€ Outputs: auction_details.parquet
â”‚       â””â”€â”€ Uploaded to: raw-maxsold-auction
â”‚
â”œâ”€â”€ 03_extract_items_details.py
â”‚   â””â”€â”€ Outputs: items_details.parquet
â”‚       â””â”€â”€ Uploaded to: raw-maxsold-item
â”‚
â”œâ”€â”€ 04_extract_bid_history.py
â”‚   â””â”€â”€ Outputs: bid_history.parquet
â”‚       â””â”€â”€ Uploaded to: raw-maxsold-bid
â”‚
â””â”€â”€ 05_extract_item_enriched_details.py
    â””â”€â”€ Outputs: item_enriched_details.parquet
        â””â”€â”€ Uploaded to: raw-maxsold-item-enriched
```

## ğŸ“Š Data Volume (Typical Month)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dataset              â”‚ Rows Added  â”‚ Upload Size        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Auction Details      â”‚ ~500-1000   â”‚ ~1-2 MB           â”‚
â”‚ Item Details         â”‚ ~5,000-10k  â”‚ ~5-10 MB          â”‚
â”‚ Bid History          â”‚ ~50k-100k   â”‚ ~10-20 MB         â”‚
â”‚ Item Enriched        â”‚ ~5,000-10k  â”‚ ~15-25 MB         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total Time: 2-4 hours
Total Data: ~30-60 MB new data per month
```

## ğŸ” Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Repository Secrets (Encrypted)                   â”‚
â”‚                                                          â”‚
â”‚ â€¢ KAGGLE_USERNAME                                       â”‚
â”‚ â€¢ KAGGLE_KEY                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions Runner (Secure Environment)              â”‚
â”‚                                                          â”‚
â”‚ 1. Secrets injected as environment variables            â”‚
â”‚ 2. Create ~/.kaggle/kaggle.json                         â”‚
â”‚ 3. Set permissions: chmod 600                           â”‚
â”‚ 4. Pipeline authenticates with Kaggle API               â”‚
â”‚ 5. Credentials destroyed after workflow completes       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## â±ï¸ Timeline

```
Month View:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Day 1   â”‚ Pipeline runs (2-4 hours)                    â”‚
â”‚ Day 2-30â”‚ Data available on Kaggle                     â”‚
â”‚         â”‚ No pipeline activity                         â”‚
â”‚ Day 31/1â”‚ Next pipeline run                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Single Run View:
00:00 - Workflow scheduled (waits for 02:00 UTC)
02:00 - Workflow starts
02:00 - Setup (5 min): Checkout, Python, Dependencies
02:05 - Phase 1: Auction Search (10-30 min)
02:35 - Phase 2: Auction & Item Details (30-60 min)
03:35 - Phase 3: Bid History & Enriched (60-120 min)
05:35 - Phase 4: Kaggle Uploads (20-40 min)
06:15 - Workflow complete âœ…
```

## ğŸ¯ Success Indicators

```
âœ… Workflow Status: Success
âœ… All phases completed
âœ… Artifacts generated
âœ… Kaggle datasets updated
âœ… No errors in logs
âœ… Execution summary created
```

## ğŸ“ˆ Data Growth Over Time

```
Month 0:  Initial data from Kaggle
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
Month 1:  + New data (30 days)
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
Month 2:  + New data (30 days)
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
Month 3:  + New data (30 days)
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
Month N:  Cumulative historical data
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€...â”€â”¤

Deduplication ensures no overlapping data
```

## ğŸ”§ Maintenance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NO MAINTENANCE REQUIRED                                 â”‚
â”‚                                                          â”‚
â”‚ âœ“ Runs automatically                                    â”‚
â”‚ âœ“ Self-contained                                        â”‚
â”‚ âœ“ Error handling built-in                              â”‚
â”‚ âœ“ Deduplication automatic                              â”‚
â”‚ âœ“ GitHub Actions managed                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Optional Monitoring:
â”œâ”€ Check GitHub Actions notifications
â”œâ”€ Review execution summaries
â””â”€ Verify Kaggle dataset updates
```

---

**Pipeline Status:** âœ… ACTIVE  
**Next Run:** 1st of every month at 2:00 AM UTC  
**Manual Trigger:** Available anytime via GitHub Actions
